    <!DOCTYPE html><html lang="en"><head><title>Raspberry Pi Arcade Machine - Raymii.org</title><style>*,::before,::after{background-repeat:no-repeat;-webkit-box-sizing:border-box;box-sizing:border-box}::before,::after{text-decoration:inherit;vertical-align:inherit}html{cursor:default;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.15;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-break:break-word}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{height:0;overflow:visible}main{display:block}nav ol,nav ul{list-style:none}pre{font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Noto Mono,Oxygen Mono,Liberation Mono,monospace;font-size:1em}a{background-color:transparent}abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:Menlo,Consolas,Roboto Mono,Ubuntu Monospace,Noto Mono,Oxygen Mono,Liberation Mono,monospace;font-size:1em}small{font-size:80%}::-moz-selection{background-color:#b3d4fc;color:#000;text-shadow:none}::selection{background-color:#b3d4fc;color:#000;text-shadow:none}audio,canvas,iframe,img,svg,video{vertical-align:middle}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not([fill]){fill:currentColor}svg:not(:root){overflow:hidden}table{border-collapse:collapse}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}button,input,select{margin:0}button{overflow:visible;text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}fieldset{padding:.35em .75em .625em}input{overflow:visible}legend{color:inherit;display:table;max-width:100%;white-space:normal}progress{display:inline-block;vertical-align:baseline}select{text-transform:none}textarea{margin:0;overflow:auto;resize:vertical}[type="checkbox"],[type="radio"]{padding:0}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}details{display:block}dialog{background-color:white;border:solid;color:black;display:block;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;left:0;margin:auto;padding:1em;position:absolute;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}dialog:not([open]){display:none}summary{display:list-item}canvas{display:inline-block}template{display:none}a,area,button,input,label,select,summary,textarea,[tabindex]{-ms-touch-action:manipulation;touch-action:manipulation}[hidden]{display:none}[aria-busy="true"]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled="true"],[disabled]{cursor:not-allowed}[aria-hidden="false"][hidden]:not(:focus){clip:rect(0,0,0,0);display:inherit;position:absolute}main,header,footer,article,section,aside,details,summary{margin:0 auto;margin-bottom:16px;width:100%}main{display:block;margin:0 auto;max-width:1000px;padding:0 16px 16px}footer{border-top:1px solid rgba(0,0,0,.12);padding:16px 0;text-align:left}footer p{margin-bottom:0}hr{border:0;border-top:1px solid rgba(0,0,0,.12);display:block;margin-top:16px;margin-bottom:16px;width:100%;-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}img{height:auto;max-width:100%;vertical-align:baseline}@media screen and (max-width:400px){article,section,aside{clear:both;display:block;max-width:100%}img{margin-right:16px}}embed,iframe,video{border:0}body{color:rgba(0,0,0,.8);font-family:"Raleway",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5}p{margin:0;margin-bottom:16px}h1,h2,h3,h4,h5,h6{color:inherit;font-family:inherit;line-height:1.2;font-weight:500}h1{font-size:40px;margin:20px 0 16px}h2{font-size:32px;margin:20px 0 16px}h3{font-size:28px;margin:16px 0 4px}h4{font-size:24px;margin:16px 0 4px}h5{font-size:20px;margin:16px 0 4px}h6{font-size:16px;margin:16px 0 4px}small{color:rgba(0,0,0,.54);vertical-align:bottom}pre{background:#f7f7f9;color:rgba(0,0,0,.8);display:block;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:16px;margin:16px 0;padding:16px;white-space:pre-wrap;overflow-wrap:break-word}code{color:rgba(0,0,0,.8);font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:16px;line-height:inherit;margin:0;padding:0;vertical-align:baseline;word-break:break-all;word-wrap:break-word}a{color:#75cc00;text-decoration:none;background-color:transparent}a:hover,a:focus{color:#0062cc;text-decoration:underline}dl{margin-bottom:16px}dd{margin-left:40px}ul,ol{margin-bottom:8px;padding-left:40px;vertical-align:baseline}blockquote{border-left:2px solid rgba(0,0,0,.8);font-family:Georgia,Times,"Times New Roman",serif;font-style:italic;margin:16px 0;padding-left:16px}figcaption{font-family:Georgia,Times,"Times New Roman",serif}u{text-decoration:underline}s{text-decoration:line-through}sup{font-size:14px;vertical-align:super}sub{font-size:14px;vertical-align:sub}mark{background:#ffeb3b}input[type="text"],input[type="password"],input[type="email"],input[type="url"],input[type="date"],input[type="month"],input[type="time"],input[type="datetime"],input[type="datetime-local"],input[type="week"],input[type="number"],input[type="search"],input[type="tel"],select,textarea{background:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.12);border-radius:4px;color:rgba(0,0,0,.8);display:block;width:100%;padding:8px 16px;line-height:1.5;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}input[type="color"]{background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:4px;display:inline-block;vertical-align:middle}input:not([type]){-webkit-appearance:none;background:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.12);border-radius:4px;color:rgba(0,0,0,.8);display:block;width:100%;padding:8px 16px;line-height:1.5;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;text-align:left}input[type="text"]:focus,input[type="password"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="time"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,input[type="week"]:focus,input[type="number"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="color"]:focus,select:focus,textarea:focus{background-color:#fff;border-color:#80bdff;outline:0;-webkit-box-shadow:0 0 0 .2rem rgba(0,123,255,.25);box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}input:not([type]):focus{background-color:#fff;border-color:#80bdff;outline:0;-webkit-box-shadow:0 0 0 .2rem rgba(0,123,255,.25);box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:1px thin rgba(0,0,0,.12)}input[type="text"][disabled],input[type="password"][disabled],input[type="email"][disabled],input[type="url"][disabled],input[type="date"][disabled],input[type="month"][disabled],input[type="time"][disabled],input[type="datetime"][disabled],input[type="datetime-local"][disabled],input[type="week"][disabled],input[type="number"][disabled],input[type="search"][disabled],input[type="tel"][disabled],input[type="color"][disabled],select[disabled],textarea[disabled]{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.54);cursor:not-allowed;opacity:1}input:not([type])[disabled]{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.54);cursor:not-allowed;opacity:1}input[readonly],select[readonly],textarea[readonly]{border-color:rgba(0,0,0,.12);color:rgba(0,0,0,.54)}input:focus:invalid,textarea:focus:invalid,select:focus:invalid{border-color:#ea1c0d;color:#f44336}input[type="file"]:focus:invalid:focus,input[type="radio"]:focus:invalid:focus,input[type="checkbox"]:focus:invalid:focus{outline-color:#f44336}select{border:1px solid rgba(0,0,0,.12);vertical-align:sub}select:not([size]):not([multiple]){height:-webkit-calc(2.25rem + 2px);height:calc(2.25rem + 2px)}select[multiple]{height:auto}label{display:inline-block;line-height:2}fieldset{border:0;margin:0;padding:8px 0}legend{border-bottom:1px solid rgba(0,0,0,.12);color:rgba(0,0,0,.8);display:block;margin-bottom:8px;padding:8px 0;width:100%}textarea{overflow:auto;resize:vertical}input[type=checkbox],input[type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0;display:inline}input[type=submit],input[type=reset],input[type=button],button{background-color:#75cc00;border:#75cc00;border-radius:4px;color:#fff;padding:8px 16px;display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;font-size:1rem;line-height:1.5;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out}input[type=submit]::-moz-focus-inner,input[type=reset]::-moz-focus-inner,input[type=button]::-moz-focus-inner,button::-moz-focus-inner{padding:0}input[type=submit]:hover,input[type=reset]:hover,input[type=button]:hover,button:hover{background-color:#0069d9;border-color:#0062cc;color:#fff}input[type=submit]:not(:disabled):active,input[type=reset]:not(:disabled):active,input[type=button]:not(:disabled):active,button:not(:disabled):active{background-color:#0062cc;border-color:#005cbf;color:#fff}input[type=submit]:focus,input[type=reset]:focus,input[type=button]:focus,button:focus{outline:0;-webkit-box-shadow:0 0 0 .2rem rgba(0,123,255,.5);box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}input[type=submit]:disabled,input[type=reset]:disabled,input[type=button]:disabled,button:disabled{opacity:.65;cursor:not-allowed;background-color:#75cc00;border-color:#75cc00;color:#fff}table{border-top:1px solid rgba(0,0,0,.12);margin-bottom:16px}caption{padding:8px 0}thead th{border:0;border-bottom:2px solid rgba(0,0,0,.12);text-align:left}tr{margin-bottom:8px}th,td{border-bottom:1px solid rgba(0,0,0,.12);padding:16px;white-space:nowrap;vertical-align:inherit}tfoot tr{text-align:left}tfoot td{color:rgba(0,0,0,.54);font-size:8px;font-style:italic;padding:16px 4px}a.skip-main{left:-999px;position:absolute;top:auto;width:1px;height:1px;overflow:hidden;z-index:-999}a.skip-main:focus,a.skip-main:active{color:#fff;background-color:#000;left:auto;top:auto;width:30%;height:auto;overflow:auto;margin:10px 35%;padding:5px;border-radius:15px;border:4px solid yellow;text-align:center;font-size:1.2em;z-index:999}@font-face{font-family:'Raleway';font-style:normal;font-weight:400;src:url(/s/inc/css/raleway.eot);src:local('Raleway'),local('Raleway'),url(/s/inc/css/raleway.ttf)}.headheader{font-family:"Raleway"!important}.headheader a{color:#000;text-decoration:none}.headheader a:hover{color:#000;text-decoration:none!important}</style><script>window.onload=function(){var a="",b=0;document.getElementById("contents").innerHTML=document.getElementById("contents").innerHTML.replace(/<h([\d])>([^<]+)<\/h([\d])>/gi,function(c,d,e,f){if(d!=f)return c;d>b?a+=Array(d-b+1).join(""):d<b&&(a+=Array(b-d+1).join("")),b=parseInt(d);var g=e.replace(/ /g,"_");return a+="<a href=\"#"+g+"\">"+e+"</a><br/>","<h"+d+"><a name=\""+g+"\">"+e+"</a></h"+f+">"}),b&&(a+=Array(b+1).join("")),document.getElementById("toc").innerHTML+=a};</script><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"><link type="application/opensearchdescription+xml" rel="search" href="/s/inc/opensearch.xml"/><link rel="alternate" type="application/rss+xml" title="RSS Feed for Raymii.org" href="https://raymii.org/s/feed.xml" /></head><body><a id="top-of-page"></a><main><a class="skip-main" href="#main">Skip to main content</a><header><h1 class="headheader"><a href="https://raymii.org/s/">Raymii.org                         <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAKCAYAAAD2Fg1xAAABgElEQVQ4jb3VP0iVYRTH8c9waXBokog7OYhTXChuF3GIi4hoiJA4REQIOTgGtoWTg6ODs0SYComIXCJEMhpKtD9guUU0ujRFS0PQ8DzC24v3Pq+3S9/pnMOP8/7Ocx6el/OziRN0JXTD+I2xhK4WdeNteGmbu8IgC3jQQlfCZ0zgINHzJabwoQP+ClHGV1zGJXwRDJ/FDJZi3MBQE10dL2K8gZFOGE3REDZyyjLunKG7KAzZHfMaXjXp+QbXYlzBfrvmSuhBNaHrxQU8zdQW8RhrOe0snuB7zA/jd6p4n9HV8QMfY/4JPzGAt7meFfS18LdXEk7uemIQuJ/Lj6PZQezFWhm3cTWnXcAj3MrU5oWh5WpzGM3UurGNZy28HSa8J7mB3Uy+4u/rl+UdrsT4Jraa6F6jP5M3MP0PHguzL9zzqmC2GRNYjXF2qDzDwgbgHp53wGMhJrEunGQ9oT3CQ+GFasWBsLVvwiv5XygJz/JOAe208POrJHST+CVspBB/AFY9Q3+QJqLxAAAAAElFTkSuQmCC" alt="Logo (IEC resistor symbol)"></a></h1><small>                  Quis custodiet ipsos custodes?<br><a href="/s/">Home</a> |                   <a href="/s/static/About.html">About</a> |                   <a href="/s/tags/all.html">All pages</a> |                   <a href="https://raymii.org/s/feed.xml">RSS Feed</a> |                   <a href="gopher://raymii.org:70">Gopher</a></small></header><h2 class='headheader' id='main'>Raspberry Pi Arcade Machine</h2><p><small>Published: 03-05-2015 | Author: Graham Morrison | <a href="Raspberry_Pi_Arcade_Machine.txt">Text only version of this article</a></small></p><div class='ad'><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle"                                 style="display:inline-block;width:728px;height:90px"                                 data-ad-client="ca-pub-7993642564731324"                                 data-ad-slot="6172324376"></ins><script>                            (adsbygoogle = window.adsbygoogle || []).push({});                            </script></div><br><div id="toc"><h3>Table of Contents</h3></div><hr><div id="contents"><p>This article was originaly published in <a href="http://www.linuxvoice.com/download-linux-voice-issue-2/">Linux Voice, issue 2, May 2014</a>.This issue is now available under a <a href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons BY-SA license</a>. In anutshell: you can modify and share all content from the magazine (apart fromadverts), even for commercial purposes, providing you credit Linux Voice as theoriginal source, and retain the same license.</p><p>This remix is converted manually to Markdown and HTML for ease of archiving andcopy-pasting.</p><p><a href="https://www.digitalocean.com/?refcode=7435ae6b8212">If you like this article, consider sponsoring me by trying out a Digital OceanVPS. With this link you&#39;ll get $100 credit for 60 days). (referral link)</a></p><p>Other converted Linux Voice articles <a href="https://raymii.org/s/tags/linux-voice.html">can be found here</a>.</p><hr><p>Relive the golden majesty of the 80s with a little help from a marvel of thecurrent decade.</p><h3>Arcade Machine</h3><p>WHAT YOU&#39;LL NEED</p><ul><li>Raspberry Pi w/4GB SD-CARD.</li><li>HDMI LCD monitor.</li><li>Games controller or A JAMMA arcade cabinet/J-Pac/I-Pac</li></ul><p>The 1980s were memorable for many things; the end of the cold war, a carbonateddrink called Quatro, the Korg Polysix synthesiser and the Commodore 64. But to acertain teenager, none of these were as potent, or as perhaps familiarlyillicit, as the games arcade. Enveloped by cigarette smoke and a barrage of8-bit sound effects, they were caverns you visited only on borrowed time: 50pence and a portion of chips to see you through lunchtime while you honed yourskills at Galaga, Rampage, Centipede, Asteroids, Ms Pacman, Phoenix, R-Rype,Donkey Kong, Rolling Thunder, Gauntlet, Street Fighter, Outrun, Defender... Thelist is endless.</p><p>These games, and the arcade machine form factor that held them, are just ascompelling today as they were 30 years ago. And unlike the teenage version ofyourself, you can now play many of them without needing a pocket full of change,finally giving you an edge over the rich kids and their endless &#39;Continues&#39;.</p><p>It&#39;s time to build your own Linux-based arcade machine and beat that old highscore.</p><p>We&#39;re going to cover all the steps required to turn a cheap shell of an arcademachine into a Linux-powered multi-platform retro games system. But that doesn&#39;tmean you&#39;ve got to build the whole system at the same scale. You could, forexample, forgo the large, heavy and potentially carcinogenic hulk of the cabinetitself and stuff the controlling innards into an old games console or an evensmaller case. Or you could just as easily forgo the diminutive Raspberry Pi andreplace the brains of your system with a much more capable Linux machine. Thismight make an ideal platform for SteamOS, for example, and for playing some ofits excellent modern arcade games.</p><p>Over the next few pages we&#39;ll construct a Raspberry Pi-based arcade machine, butyou should be able to see plenty of ideas for your own projects, even if theydon&#39;t look just like ours. And because we&#39;re building it on the staggeringlypowerful MAME, you&#39;ll be able to get it running on almost anything.</p><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade1.png" alt="Pi Arcade"></p><p>We did this project before the model B+ came out. It should all work exactly thesame on the newer board, and you should be able to get by without a powered USBHub.</p><h3>Disclaimer</h3><p>One again we&#39;re messing with electrical components that could cause you a shock.Make sure you get any modifications you make checked by a qualified electrician.We don&#39;t go into any details on how to obtain games, but there are legal sourcessuch as old games releases and newer commercial titles based on the MAMEemulator.</p><h3>Step 1: The Cabinet</h3><p>The cabinet itself is the biggest challenge. We bought an old two-player BubbleBobble machine from the early 90s from eBay. It cost GPB 220 delivered in theback of an old estate car. The prices for cabinets like these can vary. We&#39;veseen many for less than GPB 100. At the other end of the scale, people paythousands for machines with original decals on the side.</p><p>There are two major considerations when it comes to buying a cabinet. The firstis the size: These things are big and heavy. They take up a lot of space and ittakes at least two people to move them around. If you&#39;ve got the money, you canbuy DIY cabinets or new smaller form-factors, such as cabinets that fit ontables. And cocktail cabinets can be easier to fit, too.</p><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade2.jpg" alt="Cabinet"></p><blockquote><p>Cabinets can be cheap, but they&#39;re heavy. Don&#39;t lift them on your own. Olderones may need some TLC, such as a re-spray and some repair work.</p></blockquote><p>One of the best reasons for buying an original cabinet, apart from getting amuch more authentic gaming experience, is being able to use the originalcontrols. Many machines you can buy on eBay will be for two concurrent players,with two joysticks and a variety of buttons for each player, plus the player oneand player two controls. For compatibility with the widest number of games, we&#39;drecommend finding a machine with six buttons for each player, which is a commonconfiguration. You might also want to look into a panel with more than twoplayers, or one with space for other input controllers, such as an arcadetrackball (for games like Marble Madness), or a spinner (Arkanoid). These can beadded without too much difficulty later, as modern USB devices exist.</p><p>Controls are the second, and we&#39;d say most important consideration, because it&#39;sthese that transfer your twitches and tweaks into game movement. What you needto consider for when buying a cabinet is something called JAMMA, an acronym forJapan Amusement Machinery Manufacturers. JAMMA is a standard in arcade machinesthat defines how the circuit board containing the game chips connects to thegame controllers and the coin mechanism. It&#39;s an interface conduit for all thecables coming from the buttons and the joysticks, for two players, bringing theminto a standard edge connector. The JAMMA part is the size and layout of thisconnector, as it means the buttons and controls will be connected to the samefunctions on whichever board you install so that the arcade owner would onlyhave to change the cabinet artwork to bring in new players.</p><p>But first, a word of warning: the JAMMA connector also carries the 12V powersupply, usually from a power unit installed in most arcade machines. Wedisconnecting the power supply completely to avoid damaging anything with awayward short-circuit or dropped screwdriver. We don&#39;t use any of the powerconnectors in any further stage of the tutorial.</p><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade3.png" alt="JAMMA"></p><h3>Step 2: J-PAC</h3><p>What&#39;s brilliant is that you can buy a device that connects to the JAMMAconnector inside your cabinet and a USB port on your computer, transforming allthe buttons presses and keyboard movements into (configurable) keyboard commandsthat you can use from Linux to control any game you wish. This device is calledthe J-Pac (<a href="http://www.ultimarc.com/jpac.html">www.ultimarc.com/jpac.html</a> - approximately 54 GPB).</p><p>Its best feature isn&#39;t the connectivity; it&#39;s the way it handles and convertsthe input signals, because it&#39;s vastly superior to a standard USB joystick.Every input generates its own interrupt, and there&#39;s no limit to the number ofsimultaneous buttons and directions you can press or hold down. This is vitalfor games like Street Fighter, because they rely on chords of buttons beingpressed simultaneously and quickly, but it&#39;s also essential when delivering thekilling blow to cheating players who sulk and hold down all their own buttons.Many other controllers, especially those that create keyboard inputs, arerestricted by their USB keyboard controllers to six inputs and a variety of Alt,Shift and Ctrl hacks. The J-Pac can also be connected to a tilt sensor and evensome coin mechanisms, and it works in Linux without any pre-configuration.</p><p>Another option is a similar device called an I-Pac. It does the same thing asthe J-Pac, only without the JAMMA connector. That means you can&#39;t connect yourJAMMA controls, but it does mean you can design your own controller layout andwire each control to the I-Pac yourself. This might be a little ambitious for afirst project, but it&#39;s a route that many arcade aficionados take, especiallywhen they want to design a panel for four players, or one that incorporates manydifferent kinds of controls. Our approach isn&#39;t necessarily one we&#39;d recommend,but we re-wired an old X-Arcade Tankstick control panel that suffered from inputcontention, replaced the joysticks and buttons with new units and connected itto a new JAMMA harness, which is an excellent way of buying all the cables youneed plus the edge connector for a low price (GPB 8).</p><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade4.jpg" alt="j-pac"></p><blockquote><p>Our J-Pac in situ. The blue and red wires on the right connect to the extra 1-and 2-player buttons on our cabinet.</p></blockquote><p>Whether you choose an I-Pac or a J-Pac, all the keys generated by both devicesare the default values for MAME. That means you won&#39;t have to make any manualinput changes when you start to run the emulator. Player 1, for example, createscursor up, down, left and right as well as left Ctrl, left ALT, Space and leftShift for fire buttons 1-4. But the really useful feature, for us, is the two-button shortcuts. While holding down the player 1 button, you can generate the Pkey to pause the game by pulling down on the player 1 joystick, adjust thevolume by pressing up and enter MAME&#39;s own configuration menu by pushing right.These escape codes are cleverly engineered to not get in the way of playinggames, as they&#39;re only activated when holding down the Player 1 button, and theyenable you to do almost anything you need to from within a running game. You cancompletely reconfigure MAME, for example, using its own menus, and change inputassignments and sensitivity while playing the game itself.</p><p>Finally, holding down Player 1 and then pressing Player 2 will quit MAME, whichis useful if you&#39;re using a launch menu or MAME manager, as these managelaunching games automatically, and let you get on with playing another game asquickly as possible.</p><p>We took a rather cowardly route with the screen, removing the original, bulkyand broken CRT that came with the cabinet and replacing it with a low-cost LCDmonitor. This approach has many advantages. First, the screen has HDMI, so itwill interface with a Raspberry Pi or a modern graphics card without anydifficulty. Second, you don&#39;t have to configure the low-frequency update modesrequired to drive an arcade machine&#39;s screen, nor do you need the specificgraphics hardware that drives it. And third, this is the safest option becausean arcade machine&#39;s screen is often unprotected from the rear of a case, leavingvery high voltages inches away from your hands. That&#39;s not to say you shouldn&#39;tuse a CRT if that&#39;s the experience you&#39;re after - it&#39;s the most authentic way toget the gaming experience you&#39;re after, but we&#39;ve fined-tuned the CRT emulationenough in software that we&#39;re happy with the output, and we&#39;re definitelyhappier not to be using an ageing CRT.</p><p>You might also want to look into using an older LCD with a 4:3 aspect ratio,rather than the widescreen modern options, because 4:3 is more practical forplaying both vertical and horizontal games. A vertical shooter such as Raiden,for example, will have black bars on either side of the gaming area if you use awidescreen monitor. Those black bars can be used to display the gameinstructions, or you could rotate the screen 90 degrees so that every pixel isused, but this is impractical unless you&#39;re only going to play vertical games orhave easy access to a rotating mount.</p><p>Mounting a screen is also important. If you&#39;ve removed a CRT, there&#39;s nowherefor an LCD to go. Our solution was to buy some MDF cut to fit the space wherethe CRT was. This was then screwed into position and we fitted a cheap VESAmounting plate into the centre of the new MDF. VESA mounts can be used by thevast majority of screens, big and small. Finally, because our cabinet wasfronted with smoked glass, we had to be sure both the brightness and contrastwere set high enough.</p><h3>Step 3: Installation</h3><p>With the large hardware choices now made, and presumably the cabinet close towhere you finally want to install it, putting the physical pieces together isn&#39;tthat difficult. We safely split the power input from the rear of the cabinet andwired a multiple socket into the space at the back. We did this to the cableafter it connects to the power switch.</p><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcad11.png" alt="Power Supply"></p><p>Nearly all arcade cabinets have a power switch on the top-right surface, butthere&#39;s usually plenty of cable to splice into this at a lower point in thecabinet, and it meant we could use normal power connectors for our equipment.Our cabinet has a fluorescent tube, used to backlight the top marquee on themachine, connected directly to the power, and we were able to keep thisconnected by attaching a regular plug. When you turn the power on from thecabinet switch, power flows to the components inside the case - your RaspberryPi and screen will come on, and all will be well with the world.</p><p>The J-Pac slides straight into the JAMMA interface, but you may also have to doa little manual wiring. The JAMMA standard only supports up to three buttons foreach player (although many unofficially support four), while the J-Pac canhandle up to six buttons. To get those extra buttons connected, you need toconnect one side of the button&#39;s switch to GND fed from the J-Pac with the otherside of the switch going into one of the screw-mounted inputs in the side of theJ-Pac. These are labelled <code>1SW4</code>, <code>1SW5</code>, <code>1SW6</code>, <code>2SW4</code>, <code>2SW5</code> and <code>2SW6</code>. TheJ-Pac also includes passthrough connections for audio, but we&#39;ve found this tobe incredibly noisy. Instead, we wired the speaker in our cabinet to an oldSoundBlaster amplifier and connected this to the audio outputs on the RaspberryPi. You don&#39;t want audio to be pristine, but you do want it to be loud enough.</p><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade5.jpg" alt="Insides"></p><blockquote><p>Our Raspberry Pi is now connected to the J-Pac on the left and both the screenand the USB hub.</p></blockquote><p>The J-Pac or I-Pac then connects to your PC or Raspberry Pi using a PS2-to-USBcable, which should also be used to connect to a PS2 port on your PC directly.There is an additional option to use an old PS2 connector, if your PC is oldenough to have one, but we found in testing that the USB performance isidentical. This won&#39;t apply to the PS2-less Raspberry Pi, of course, and don&#39;tforget that the Pi will also need powering. We always recommend doing so from acompatible powered hub, as a lack of power is the most common source ofRaspberry Pi errors. You&#39;ll also need to get networking to your Raspberry Pi,either through the Ethernet port (perhaps using a powerline adaptor hidden inthe cabinet), or by using a wireless USB device. Networking is essential becauseit enables you to reconfigure your PI while it&#39;s tucked away within the cabinet,and it also enables you to change settings and perform administration taskswithout having to connect a keyboard or mouse.</p><h3>Coin Mechanism</h3><p>In the emulation community, getting your coin mechanism to work with youremulator was often considered a step too close to commercial production. Itmeant you could potential charge people to use your machine. Not only would thisbe wrong, but considering the provenance of many of the games you run on yourown arcade machine, it could also be illegal. And it&#39;s definitely against thespirit of emulation. However, we and many other devotees thinking that a workingcoin mechanism is another step closer to the realism of an arcade machine, andis worth the effort in recreating the nostalgia of an old arcade. There&#39;snothing like dropping a 10p piece into the coin tray and to hear the sound ofthe credits being added to the machine. It&#39;s not actually that difficult. Itdepends on the coin mechanism in your arcade machine and how it sends a signalto say how many credits had been inserted. Most coin mechanisms come in twoparts. The large part is the coin acceptor/validator. This is the physical sideof the process that detects whether a coin is authentic, and determines itsvalue. It does this with the help of a credit/logic board, usually attached viaa ribbon cable and featuring lots of DIP switches. These switches are used tochange which coins are accepted and how many credits they generate.</p><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade6.png" alt="Coins"></p><blockquote><p>Our coin mechanism is a Mars MS111, common in the UK in the early 90s.</p></blockquote><p>It&#39;s then usually as simple as finding the output switch, which is triggeredwith a credit, and connecting this to the coin input on your JAMMA connector, ordirectly onto the J-Pac. Our coin mechanism is a Mars MS111, common in the UK inthe early 90s, and there&#39;s plenty of information online about what each of theDIP switches do, as well as how to programme the controller for newer coins. Wewere also able to wire the 12V connector from the mechanism to a small light forbehind the coin entry slot.</p><h3>Step 4: Software</h3><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade7.png" alt="PiMAME"></p><blockquote><p>PiMAME has a nifty web interface allowing you to remotely install new games</p></blockquote><p>MAME is the only viable emulator for a project of this scale, and it nowsupports many thousands of different games running on countless differentplatforms, from the first arcade machines through to some more recent ones. It&#39;sa project that has also spawned <code>MESS</code>, the multi-emulator super system, whichtargets platforms such as home computers and consoles from the 80s and 90s.</p><p>Configuring MAME could take a six-page article in itself. It&#39;s a complex,sprawling, magnificent piece of software that emulates so many CPUs, so manysound devices, chips, controllers with so many options, that like MythTV, younever really stop configuring it.</p><p>But there&#39;s an easier option, and one that&#39;s purpose-built for the Raspberry Pi.It&#39;s called PiMAME. This is both a distribution download and a script you canrun on top of Raspbian, the Pi&#39;s default distribution. Not only does it installMAME on your Raspberry Pi (which is useful because it&#39;s not part of any of thedefault repositories), it also installs a selection of other emulators alongwith front-ends to manage them. MAME, for example, is a command-line utilitywith dozens of options. But PiMAME has another clever trick up its sleeve - itinstalls a simple web server that enables you to install new games through abrowser connected to your network. This is a great advantage, because gettinggames into the correct folders is one of the trials of dealing with MAME, and italso enables you to make best use of whatever storage you&#39;ve got connected toyour Pi. Plus, PiMAME will update itself from the same script you use to installit, so keeping on top of updates couldn&#39;t be easier. This could be especiallyuseful at the moment, as at the time of writing the project was on the cusp of amajor upgrade in the form of the 0.8 release. We found it slightly unstable inearly March, but we&#39;re sure everything will be sorted by the time you read this.</p><p>The best way to install PiMAME is to install Raspbian first. You can do thiseither through NOOBS, using a graphical tool from your desktop, or by using thedd command to copy the contents of the Raspbian image directly onto your SDcard. As we mentioned in last month&#39;s BrewPi tutorial, this process has beendocumented many times before, so we won&#39;t waste the space here. Just installNOOBS if you want the easy option, following the instructions on the RaspberryPi site. With Raspbian installed and running, make sure you use theconfiguration tool to free the space on your SD card, and that the system is upto date (<code>sudo apt-get update; sudo apt-get upgrade</code>). You then need to makesure you&#39;ve got the git package already installed. Any recent version ofRaspbian will have installed git already, but you can check by typing <code>sudo apt-get install git</code> just to check.</p><p>You then have to type the following command to clone the PiMAME installer fromthe project&#39;s GitHub repository:</p><pre><code>git clone https://github.com/ssilverm/pimame_installer</code></pre><p>After that, you should get the following feedback if the command works:</p><pre><code>Cloning into &#39;pimame_installer&#39;...remote: Reusing existing pack: 2306, done.remote: Total 2306 (delta 0), reused 0 (delta 0)Receiving objects: 100% (2306/2306), 4.61 MiB | 11 KiB/s, done.Resolving deltas: 100% (823/823), done.</code></pre><p>This command will create a new folder called &#39;pimame_installer&#39;, and the nextstep is to switch into this and run the script it contains:</p><pre><code>cd pimame_installer/sudo ./install.sh</code></pre><p>And that&#39;s all there is to the installation. After rebooting your Pi, you willbe automatically logged in and the PiMAME launch menu will appear. It&#39;s a great-looking interface in version 0.8, with photos of each of the platformssupported, plus small red icons to indicate how many games you&#39;ve gotinstalled.This should now be navigable through your controller. If you want tomake sure the controller is correctly detected, use SSH to connect to your Piand check for the existence of <code>/dev/input/by-id/usb-UltimarcI-PACUltimarc_I-PAC-event-kbd</code>.</p><p>The default keyboard controls will enable you to select what kind of emulatoryou want to run on your arcade machine. The option we&#39;re most interested in isthe first, labelled &#39;AdvMAME&#39;, but you might also be surprised to see anotherMAME on offer, MAME4ALL. MAME4ALL is built specifically for the Raspberry Pi,and takes an old version of the MAME source code so that the performance of theROMS that it does support is optimal. This makes a lot of sense, because there&#39;sno way your Pi is going to be able to play anything too demanding, so there&#39;s noreason to belabour the emulator with unneeded compatibility. All that&#39;s left todo now is get some games onto your system (see the boxout below), and have fun!</p><h3>Boxout 1 - Copying games to your arcade machine</h3><ul><li>Step 1: Browse to the Pi</li></ul><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade8.png" alt="up1"></p><p>Open the IP address of your arcade machine in a web browser. You can find the IPaddress from the Pi by selecting the Tools menu.</p><ul><li>Step 2: Choose the system</li></ul><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade9.png" alt="up2"></p><p>After clicking on ROM Uploader, choose the destination emulator for your game.This will then open a new upload page.</p><ul><li>Step 3: Upload the file</li></ul><p><img src="https://raymii.org/s/inc/img/linuxvoice/2/arcade10.png" alt="up3"></p><p>Dragging the file onto the page didn&#39;t work for us, but if you click inside thepage a file requester lets you choose the file.</p>Tags: <a href="../tags/arcade.html">arcade</a>, <a href="../tags/articles.html">articles</a>, <a href="../tags/cabinet.html">cabinet</a>, <a href="../tags/emulation.html">emulation</a>, <a href="../tags/linux-voice.html">linux-voice</a>, <a href="../tags/linux-voice-issue-2-2014.html">linux-voice-issue-2-2014</a>, <a href="../tags/mame.html">mame</a>, <a href="../tags/raspberry-pi.html">raspberry-pi</a></div><br/><footer><br/><form role="search" action="https://encrypted.google.com/search"                style="min-width:250px;max-width:300px;"><div class="form-group"><input type="hidden" name="as_sitesearch" value="raymii.org"><input type="hidden" name="as_qdr" value="all"><input type="text" name="as_q" class="form-control" placeholder="Search"></div></form><br><p><small><a href="/s/">Home</a> |                 <a href="/s/static/About.html">About</a> |                 <a href="/s/tags/all.html">All pages</a> |                 <a href="/s/software/Sparkling_Network.html">Cluster Status</a> |                 Generated by <a href="/s/software/ingsoc.html">ingsoc</a>.</small></p></footer><script async src="https://www.googletagmanager.com/gtag/js?id=UA-3704876-6"></script><script>      window.dataLayer = window.dataLayer || [];      function gtag(){dataLayer.push(arguments);}      gtag('js', new Date());      gtag('config', 'UA-3704876-6');    </script></main></body></html>    