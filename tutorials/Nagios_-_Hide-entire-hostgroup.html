
    <!DOCTYPE html>
    <html lang="en">
        <head>
        <title>Nagios - Hide all hosts in hostgroup - Raymii.org</title>
        <!-- <link href="/s/inc/css/custom-first.css" rel="stylesheet" />-->
        <link href="/s/inc/css/marx.css" rel="stylesheet"  />
        <!-- <link href="/s/inc/css/custom.css" rel="stylesheet" title="custom" />-->
        <script src="/s//inc/js/instant.js" type="text/javascript"></script> 
        <script src="/s//inc/js/toc.js" type="text/javascript"></script> 
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link type="application/opensearchdescription+xml" rel="search" href="/s/inc/opensearch.xml"/>
        <link rel="alternate" type="application/rss+xml" title="RSS Feed for Raymii.org" href="https://raymii.org/s/feed.xml" />
    </head>
    <body>
        
        <a id="top-of-page"></a>
        <main>
        <a class="skip-main" href="#main">Skip to main content</a>
            <header>
                <h1 class="headheader">
                    <a href="https://raymii.org/s/">Raymii.org <img src="/s/inc/img/resistor-50.png"></a>
                </h1>
                <small>
                  Quis custodiet ipsos custodes?<br>
                  <a href="/s/">Home</a> | 
                  <a href="/s/static/About.html">About</a> | 
                  <a href="/s/tags/all.html">All pages</a> | 
                  <a href="https://raymii.org/s/feed.xml">RSS Feed</a> | 
                  <a href="gopher://raymii.org:70">Gopher</a>
                </small>
            </header>
          

    <h2 class='headheader' id='main'>Nagios - Hide all hosts in hostgroup</h2><p><small>Published: 30-07-2013 | Author: Remy van Elst | <a href="Nagios_-_Hide-entire-hostgroup.txt" class="link">Text only version of this article</small></a></p><div class='ad'>
                            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                            <!-- voorartikel -->
                            <ins class="adsbygoogle"
                                 style="display:inline-block;width:728px;height:90px"
                                 data-ad-client="ca-pub-7993642564731324"
                                 data-ad-slot="6172324376"></ins>
                            <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script>
                        </div><br><div id="toc"><h3>Table of Contents</h3></div><hr><div id="contents"><p>This tutorial shows you how to hide all hosts from a hostgroup in Nagios,
including the webinterface and email/sms notifications. It does however monitors
and checks all the hosts in the hostgroup, so when there are problems you can
view the hosts in Nagios. This is usefull for example when you have a staging,
preproduction and production environment monitored by the same Nagios host, or
by a Nagios cluster, and want to hide all of staging, but do want to quickly
view the status when developers complain about a node.</p>

<p><a href="https://www.digitalocean.com/?refcode=7435ae6b8212">If you like this article, consider sponsoring me by trying out a Digital Ocean
VPS. With this link you&#39;ll get $100 credit for 60 days). (referral link)</a></p>

<p>First you needble all notifications for the hostgroup of choice, in my case
&quot;staging&quot;. Navigate in the Web interface to the Hostgroup Overview, Click on the
second hostgroup link (like: staging <em>(staging)</em> ) and then select &quot;Disable
notifications for all services in this hostgroup&quot;. On the next page, select the
checkbox &quot;Disable for hosts too&quot; and click Commit. You could also go to the
following url, replacing the values for your environment: <code>http(s)://&amp;lt;nagios-
url.tld&amp;gt;/&amp;lt;cgi-folder&amp;gt;/cmd.cgi?cmd_type=64&amp;amp;hostgroup=&amp;lt;hostgroup-
name&amp;gt;</code>.</p>

<p>Now navigate to the following page, again replacing the values for your
environment: <code>http(s)://&amp;lt;nagios-url.tld&amp;gt;/&amp;lt;cgi-
folder&amp;gt;/status.cgi?host=all&amp;amp;type=detail&amp;amp;servicestatustypes=28&amp;amp;serviceprops=8202</code>.
This will open the view for the Service Status, with the properties <code>Not In
Scheduled Downtime &amp;amp; Has Not Been Acknowledged &amp;amp; Notifications Enabled</code>.
There are all your notifications, but not from the &quot;hidden&quot; hostgroup.</p>

<p>You can also change the HTML files (index.html or side.html) to either change
the frame to go directly to this page, or add a link in the menu to this page.</p>

<h3>URL Properties</h3>

<p>You can fiddle with the Nagios URL properties, below are the values you can use,
which you can also find in the Nagios Source Code, in <code>include/cgiutils.h</code>.</p>

<pre><code>/****************** HOST AND SERVICE FILTER PROPERTIES  *******************/

#define HOST_SCHEDULED_DOWNTIME         1
#define HOST_NO_SCHEDULED_DOWNTIME      2
#define HOST_STATE_ACKNOWLEDGED         4
#define HOST_STATE_UNACKNOWLEDGED       8
#define HOST_CHECKS_DISABLED            16
#define HOST_CHECKS_ENABLED             32
#define HOST_EVENT_HANDLER_DISABLED     64
#define HOST_EVENT_HANDLER_ENABLED      128
#define HOST_FLAP_DETECTION_DISABLED    256
#define HOST_FLAP_DETECTION_ENABLED     512
#define HOST_IS_FLAPPING                1024
#define HOST_IS_NOT_FLAPPING            2048
#define HOST_NOTIFICATIONS_DISABLED     4096
#define HOST_NOTIFICATIONS_ENABLED      8192
#define HOST_PASSIVE_CHECKS_DISABLED    16384
#define HOST_PASSIVE_CHECKS_ENABLED     32768
#define HOST_PASSIVE_CHECK              65536
#define HOST_ACTIVE_CHECK               131072


#define SERVICE_SCHEDULED_DOWNTIME      1
#define SERVICE_NO_SCHEDULED_DOWNTIME   2
#define SERVICE_STATE_ACKNOWLEDGED      4
#define SERVICE_STATE_UNACKNOWLEDGED    8
#define SERVICE_CHECKS_DISABLED         16
#define SERVICE_CHECKS_ENABLED          32
#define SERVICE_EVENT_HANDLER_DISABLED  64
#define SERVICE_EVENT_HANDLER_ENABLED   128
#define SERVICE_FLAP_DETECTION_ENABLED  256
#define SERVICE_FLAP_DETECTION_DISABLED 512
#define SERVICE_IS_FLAPPING             1024
#define SERVICE_IS_NOT_FLAPPING         2048
#define SERVICE_NOTIFICATIONS_DISABLED  4096
#define SERVICE_NOTIFICATIONS_ENABLED   8192
#define SERVICE_PASSIVE_CHECKS_DISABLED 16384
#define SERVICE_PASSIVE_CHECKS_ENABLED  32768
#define SERVICE_PASSIVE_CHECK           65536
#define SERVICE_ACTIVE_CHECK            131072
</code></pre>

<p>In our example above we added the 8192 with 8 and 2 to get 8202, so we have
selected <code>SERVICE_NOTIFICATIONS_ENABLED</code>, <code>SERVICE_STATE_UNACKNOWLEDGED</code> and
<code>SERVICE_NO_SCHEDULED_DOWNTIME</code>.</p>
Tags: <a href="../tags/dtap.html" class="link">dtap</a>, <a href="../tags/monitoring.html" class="link">monitoring</a>, <a href="../tags/nagios.html" class="link">nagios</a>, <a href="../tags/staging.html" class="link">staging</a>, <a href="../tags/tutorials.html" class="link">tutorials</a></div><br/><footer><br/>
                <form role="search" action="https://encrypted.google.com/search"
                style="min-width:250px;max-width:300px;">
                    <div class="form-group">
                      <input type="hidden" name="as_sitesearch" value="raymii.org">
                      <input type="hidden" name="as_qdr" value="all">
                      <input type="text" name="as_q" class="form-control" placeholder="Search">
                    </div>
                  </form>
                <br>
                <p>
                <a href="/s/">Home</a> | 
                <a href="/s/static/About.html">About</a> | 
                <a href="/s/tags/all.html">All pages</a> | 
                <a href="/s/software/Sparkling_Network.html">Cluster Status</a> | 
                Generated by <a href="/s/software/ingsoc.html">ingsoc</a> | 
            
    </footer>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3704876-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-3704876-6');
    </script>
     
    </body>
    </html>
    